{"version":3,"sources":["img/persik.png","panels/place.png","panels/Home.js","panels/Persik.js","net.js","panels/Choice.js","panels/Order.js","App.js","index.js"],"names":["module","exports","Home","id","go","fetchedUser","title","before","photo_200","src","description","city","first_name","last_name","size","level","onClick","data-to","osName","platform","Persik","props","left","IOS","className","persik","alt","send","url","method","data","callback","forFetch","headers","Accept","body","JSON","stringify","Object","keys","reduce","str","param","fetch","then","response","text","json","parse","catch","error","console","log","Choiсe","createOrder","mapContainer","useRef","useState","addr","setAddr","lastStage","setStage","tekGeo","setTek","sendGeo","setSend","comment","setComment","disabled","setDisabled","mapSt","setMap","mapboxgl","accessToken","geocode","lng","lat","features","place_name","lon","setCoord","useCallback","e","coords","lngLat","coordWrap","useEffect","a","bridge","geo","available","long","map","Map","container","current","style","center","zoom","on","remove","choiceSend","apply","sendLat","sendLon","recvLat","recvLon","checkBut","href","rel","ref","place","width","height","header","subheader","placeholder","value","onChange","event","target","display","stretched","Order","order","msUTC","Date","date_create","minutes","date","getHours","getMinutes","App","activePanel","setActivePanel","setUser","friend","setFriend","recv","setRecv","setOrder","popout","setPopout","user","res","fr","users","subscribe","detail","type","schemeAttribute","document","createAttribute","scheme","attributes","setNamedItem","fetchData","currentTarget","dataset","to","user_id","recvGeo","sender","receiver","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.606c7e09.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/persik.4e1ec840.png\";","module.exports = \"data:image/png;base64,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\"","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\n\nconst Home = ({ id, go, fetchedUser }) => (\n\t<Panel id={id}>\n\t\t<PanelHeader>Example</PanelHeader>\n\t\t{fetchedUser &&\n\t\t<Group title=\"User Data Fetched with VK Bridge\">\n\t\t\t<Cell\n\t\t\t\tbefore={fetchedUser.photo_200 ? <Avatar src={fetchedUser.photo_200}/> : null}\n\t\t\t\tdescription={fetchedUser.city && fetchedUser.city.title ? fetchedUser.city.title : ''}\n\t\t\t>\n\t\t\t\t{`${fetchedUser.first_name} ${fetchedUser.last_name}`}\n\t\t\t</Cell>\n\t\t</Group>}\n\n\t\t<Group title=\"Navigation Example\">\n\t\t\t<Div>\n\t\t\t\t<Button size=\"xl\" level=\"2\" onClick={go} data-to=\"persik\">\n\t\t\t\t\tShow me the Persik, please\n\t\t\t\t</Button>\n\t\t\t</Div>\n\t\t</Group>\n\t</Panel>\n);\n\nHome.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n\tfetchedUser: PropTypes.shape({\n\t\tphoto_200: PropTypes.string,\n\t\tfirst_name: PropTypes.string,\n\t\tlast_name: PropTypes.string,\n\t\tcity: PropTypes.shape({\n\t\t\ttitle: PropTypes.string,\n\t\t}),\n\t}),\n};\n\nexport default Home;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { platform, IOS } from '@vkontakte/vkui';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport PanelHeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\nimport persik from '../img/persik.png';\nimport './Persik.css';\n\nconst osName = platform();\n\nconst Persik = props => (\n\t<Panel id={props.id}>\n\t\t<PanelHeader\n\t\t\tleft={<PanelHeaderButton onClick={props.go} data-to=\"home\">\n\t\t\t\t{osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n\t\t\t</PanelHeaderButton>}\n\t\t>\n\t\t\tPersik\n\t\t</PanelHeader>\n\t\t<img className=\"Persik\" src={persik} alt=\"Persik The Cat\"/>\n\t</Panel>\n);\n\nPersik.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n};\n\nexport default Persik;\n","const backend = 'https://0.0.0.0:8000/';\n\nfunction send(url, method, data, callback) {\n    let headers = {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n    };\n    let forFetch = {\n        method: method,\n        headers: headers\n    };\n    if(method === 'POST') {\n        forFetch.body = JSON.stringify(data);\n    } else {\n        url = Object.keys(data).reduce((str, param) => {\n            return str + param + \"=\" + data[param] + \"&\";\n        }, url + \"?\");\n    }\n    fetch(backend + url, forFetch)\n    .then((response) => {\n        return response.text();\n    })\n    .then((text) => {\n        const json = JSON.parse(text);\n        callback(json);\n    })\n    .catch((error) => {\n        console.log(error);\n    })\n}\n\nexport default send;","import React, { useRef, useEffect, useState, useCallback } from 'react';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\nimport Banner from '@vkontakte/vkui/dist/components/Banner/Banner';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\nimport Textarea from '@vkontakte/vkui/dist/components/Textarea/Textarea';\nimport mapboxgl from 'mapbox-gl/dist/mapbox-gl.js';\nimport bridge from '@vkontakte/vk-bridge';\nimport place from './place.png';\nimport './Choice.css';\nimport send from '../net';\n\nconst Choiсe = ({ id, fetchedUser, createOrder }) => {\n    const mapContainer = useRef(null);\n    const [addr, setAddr] = useState('');\n    const [lastStage, setStage] = useState(false);\n    const [tekGeo, setTek] = useState(null);\n    const [sendGeo, setSend] = useState(null);\n    const [comment, setComment] = useState('');\n    const [disabled, setDisabled] = useState(true);\n    const [mapSt, setMap] = useState(null);\n\n    mapboxgl.accessToken = 'pk.eyJ1IjoibG9yZGRlc2VjcmF0b3IiLCJhIjoiY2toZ2hraGVrMDd5eDJ0bzFraG9meDY3NyJ9.2yax9LYlpPdMQiRHp-1njg';\n\n    const geocode = (lng, lat) => {\n        const url = 'https://api.mapbox.com/geocoding/v5/mapbox.places/'\n            + lng + ', ' + lat\n            + '.json?access_token=' + mapboxgl.accessToken; \n        fetch(url).then((json) => {\n            json.json().then((data) => {\n                setAddr(data.features[0].place_name);\n                setTek({\n                    lon: lng,\n                    lat: lat\n                });\n            });\n        });\n    }\n\n    const setCoord = useCallback((e) => {\n        const coords = e.lngLat;\n        geocode(coords.lng, coords.lat);\n    });\n\n    const coordWrap = (e) => {\n        setCoord(e);\n    }\n\n    useEffect(() => {\n       // if(!lastStage) {\n            (async () => {\n                let lat = 56.74;\n                let lon = 37.17;\n                try { \n                    const geo = await bridge.send(\"VKWebAppGetGeodata\");\n                    if(geo.available) {\n                        lat = geo.lat;\n                        lon = geo.long;\n                    }\n                } catch(e) {\n\n                }\n                const map = new mapboxgl.Map({\n                    container: mapContainer.current,\n                    style: 'mapbox://styles/mapbox/streets-v11',\n                    center: [lon, lat],\n                    zoom: 12.5\n                });\n                map.on('mouseup', coordWrap);\n                setMap(map);\n                geocode(lon, lat);\n                return () => map.remove();\n            })();\n       // }\n    }, []);\n\n    const checkBut = (lng, lat) => {\n        if(true) {\n            const apply = {\n                sendLat: tekGeo.lat, \n                sendLon: tekGeo.lon,\n                recvLat: lat,\n                recvLon: lng,\n            };\n            console.log(apply);\n            send('api/available/check', 'POST', apply, (json) => {\n                console.log(json);\n                if(json.available) {\n                    setDisabled(false);\n                } else {\n                    setDisabled(true);\n                }\n            });\n        }\n    }\n\n    const choiceSend = () => {\n        setSend(tekGeo);\n        setStage(true);\n        \n        mapSt.on('mouseup', (e) => {\n            const coords = e.lngLat;\n            checkBut(coords.lng, coords.lat);\n        });\n    }\n\n    const choiceRecv = () => {\n        createOrder(fetchedUser.id, sendGeo, tekGeo, comment);\n    }\n\n    return (\n        <Panel id={id}>\n\t\t    <PanelHeader>Заказ доставки</PanelHeader>\n            <Group title=\"Header\">\n                {fetchedUser &&\n                <Cell\n                    before={fetchedUser.photo_200 ? <Avatar src={fetchedUser.photo_200}/> : null}\n                    description={fetchedUser.city && fetchedUser.city.title ? fetchedUser.city.title : ''}\n                >\n                    {`${fetchedUser.first_name} ${fetchedUser.last_name}`}\n                </Cell>\n                }\n            </Group>\n            <Group title=\"Map\">\n                <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.45.0/mapbox-gl.css' rel='stylesheet' />\n                <div ref={mapContainer} className=\"map-container\">\n                    <img src={place} className=\"place\" width={50} height={50} alt=\"place\" />\n                </div>\n                <div className=\"place-container\">\n                    \n                </div>\n                <Div>\n                    <Banner header={addr} subheader={lastStage ? \"Адрес получателя\" : \"Ваш адрес\"}/>\n                    {lastStage && <Div>\n                        <Textarea placeholder=\"Комментарий\" value={comment} onChange={(event) => setComment(event.target.value)} />\n                    </Div> }\n                    <Div style={{display: 'flex'}} onClick={() => {lastStage ? choiceRecv() : choiceSend()}}>\n                        <Button size=\"l\" stretched disabled={disabled && lastStage}>Продолжить</Button>\n                    </Div>\n                </Div>\n            </Group>\n        </Panel>\n    )\n} \n\nexport default Choiсe;","import React, { useRef, useEffect, useState } from 'react';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport Header from '@vkontakte/vkui/dist/components/Header/Header';\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\n\nconst Order = ({ id, order, fetchedUser }) => {\n\n    let msUTC = Date.parse(order.date_create);\n    msUTC += order.minutes * 60 * 1000;\n    let date = new Date(msUTC);\n\n    return (\n        <Panel id={id}>\n\t\t    <PanelHeader>Доставка</PanelHeader>\n            <Group title=\"Header\">\n                <Cell\n                    before={fetchedUser.photo_200 ? <Avatar src={fetchedUser.photo_200}/> : null}\n                    description={fetchedUser.city && fetchedUser.city.title ? fetchedUser.city.title : ''}\n                >\n                    {`${fetchedUser.first_name} ${fetchedUser.last_name}`}\n                </Cell>\n            </Group>\n            <Div>\n                <Header>Доставим в {date.getHours()}:{date.getMinutes()}</Header>\n                <Cell>{order.comment}</Cell>\n            </Div>\n        </Panel>\n    );\n}\n\nexport default Order;","import React, { useState, useEffect } from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Home from './panels/Home';\nimport Persik from './panels/Persik';\nimport Choiсe from './panels/Choice';\nimport Order from './panels/Order';\n\nimport send from './net';\n\nconst App = () => {\n\tconst [activePanel, setActivePanel] = useState('choice');\n\tconst [fetchedUser, setUser] = useState(null);\n\tconst [friend, setFriend] = useState(null);\n\tconst [recv, setRecv] = useState(null);\n\tconst [order, setOrder] = useState(null);\n\tconst [popout, setPopout] = useState(<ScreenSpinner size='large' />);\n\n\tconst createOrder = (user_id, sendGeo, recvGeo, comment) => {\n\t\tbridge.send(\"VKWebAppCallAPIMethod\", {\"method\": \"users.get\", \"request_id\": \"7660830\", \n\t\t\"params\": {\"user_ids\": user_id, \"v\":\"5.126\",\"fields\": \"photo_200\" , \"access_token\":\n\t\t\"5126aec75126aec75126aec73451524bd9551265126aec70e8b3645ad512894c48650a1\"}}).then((data) => {\n\t\t\tconst apply = {\n\t\t\t\tsendLat: sendGeo.lat, \n\t\t\t\tsendLon: sendGeo.lon,\n\t\t\t\trecvLat: recvGeo.lat,\n\t\t\t\trecvLon: recvGeo.lon,\n\t\t\t\tcomment: comment,\n\t\t\t\tsender: fetchedUser.id,\n\t\t\t\treceiver: user_id\n\t\t\t};\n\t\t\tconsole.log(apply);\n\t\t\tsend('api/order/create', 'POST', apply, (json) => {\n\t\t\t\tif(json !== null) {\n\t\t\t\t\tsetRecv(data.response[0]);\n\t\t\t\t\tsetOrder(json);\n\t\t\t\t\tsetActivePanel('order');\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t};\n\n\tuseEffect(() => {\n\t\tbridge.subscribe(({ detail: { type, data }}) => {\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t}\n\t\t});\n\t\tasync function fetchData() {\n\t\t\tconst user = await bridge.send('VKWebAppGetUserInfo');\n\t\t\tsetUser(user);\n\t\t\tconst res = await bridge.send(\"VKWebAppGetFriends\", {});\n\t\t\tconst fr = res.users[0];\n\t\t\tsetFriend(fr);\n\t\t\tsetPopout(null);\n\t\t}\n\t\tfetchData();\n\t}, []);\n\n\tconst go = e => {\n\t\tsetActivePanel(e.currentTarget.dataset.to);\n\t};\n\n\treturn (\n\t\t<View activePanel={activePanel} popout={popout}>\n\t\t\t<Home id='home' fetchedUser={fetchedUser} go={go} />\n\t\t\t<Choiсe id='choice' fetchedUser={friend} createOrder={createOrder} />\n\t\t\t<Order id='order' fetchedUser={recv} order={order} />\n\t\t\t<Persik id='persik' go={go} />\n\t\t</View>\n\t);\n}\n\nexport default App;\n\n","import \"core-js/features/map\";\nimport \"core-js/features/set\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n}\n"],"sourceRoot":""}